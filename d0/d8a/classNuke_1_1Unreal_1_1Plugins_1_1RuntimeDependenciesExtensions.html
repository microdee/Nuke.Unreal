<!-- HTML header for doxygen 1.13.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=11"/>
  <meta name="generator" content="Doxygen 1.12.0"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Nuke.Unreal: Nuke.Unreal.Plugins.RuntimeDependenciesExtensions Class Reference</title>
  <link rel="icon" href="../../nu.icon.onDark.fill.svg" type="image/x-icon" />
  <link href="../../tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="../../jquery.js"></script>
  <script type="text/javascript" src="../../dynsections.js"></script>
  <link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
  <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
  <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
  <link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
  <script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
  <script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
  <script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
  <script type="text/javascript" src="../../doxygen-awesome-tabs.js"></script>
  <script type="text/javascript">
      DoxygenAwesomeDarkModeToggle.init()
      DoxygenAwesomeParagraphLink.init()
      DoxygenAwesomeInteractiveToc.init()
      DoxygenAwesomeTabs.init()
      DoxygenAwesomeFragmentCopyButton.init()
  </script>
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr id="projectrow">
              <td id="projectlogo"><img alt="Logo" src="../../nu.icon.onDark.fill.55h.png"/></td>
              <td id="projectalign">
                <div id="projectname">Nuke.Unreal
                </div>
                <div id="projectbrief">Build Unreal apps in Style.</div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d0/d8a/classNuke_1_1Unreal_1_1Plugins_1_1RuntimeDependenciesExtensions.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="../../db/db8/classNuke_1_1Unreal_1_1Plugins_1_1RuntimeDependenciesExtensions-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Nuke.Unreal.Plugins.RuntimeDependenciesExtensions Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a21f645a8ef86ec067dc0a83e8edd08c9" id="r_a21f645a8ef86ec067dc0a83e8edd08c9"><td class="memItemLeft" align="right" valign="top">static IEnumerable&lt; ImportedItem &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21f645a8ef86ec067dc0a83e8edd08c9">PrepareRuntimeDependencies</a> (this <a class="el" href="../../da/d58/classNuke_1_1Unreal_1_1UnrealBuild.html">UnrealBuild</a> self, AbsolutePath sourceFolder, IEnumerable&lt; <a class="el" href="../../d1/d6a/classNuke_1_1Unreal_1_1Plugins_1_1RuntimeLibraryPath.html">RuntimeLibraryPath</a> &gt; runtimeLibraryPaths, Func&lt; AbsolutePath, RuntimeDependencyConfig &gt;? determineConfig=null, Func&lt; AbsolutePath, <a class="el" href="../../d5/dc0/classNuke_1_1Unreal_1_1UnrealPlatform.html">UnrealPlatform</a> &gt;? determinePlatform=null, string? moduleName=null, AbsolutePath? pluginFolder=null, ExportManifest? customManifest=null, string manifestFilePattern=&quot;RuntimeDeps.y*ml&quot;, string binariesSubfolder=&quot;ThirdParty&quot;, AbsolutePath? moduleRuleOutput=null, bool setFilterPlugin=true, bool pretend=false)</td></tr>
<tr class="separator:a21f645a8ef86ec067dc0a83e8edd08c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d9/db5/AutoRuntimeDependencies_8cs_source.html#l00061">61</a> of file <a class="el" href="../../d9/db5/AutoRuntimeDependencies_8cs_source.html">AutoRuntimeDependencies.cs</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a21f645a8ef86ec067dc0a83e8edd08c9" name="a21f645a8ef86ec067dc0a83e8edd08c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21f645a8ef86ec067dc0a83e8edd08c9">&#9670;&#160;</a></span>PrepareRuntimeDependencies()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static IEnumerable&lt; ImportedItem &gt; Nuke.Unreal.Plugins.RuntimeDependenciesExtensions.PrepareRuntimeDependencies </td>
          <td>(</td>
          <td class="paramtype">this <a class="el" href="../../da/d58/classNuke_1_1Unreal_1_1UnrealBuild.html">UnrealBuild</a></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AbsolutePath</td>          <td class="paramname"><span class="paramname"><em>sourceFolder</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IEnumerable&lt; <a class="el" href="../../d1/d6a/classNuke_1_1Unreal_1_1Plugins_1_1RuntimeLibraryPath.html">RuntimeLibraryPath</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>runtimeLibraryPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Func&lt; AbsolutePath, RuntimeDependencyConfig &gt;?</td>          <td class="paramname"><span class="paramname"><em>determineConfig</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Func&lt; AbsolutePath, <a class="el" href="../../d5/dc0/classNuke_1_1Unreal_1_1UnrealPlatform.html">UnrealPlatform</a> &gt;?</td>          <td class="paramname"><span class="paramname"><em>determinePlatform</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string?</td>          <td class="paramname"><span class="paramname"><em>moduleName</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AbsolutePath?</td>          <td class="paramname"><span class="paramname"><em>pluginFolder</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ExportManifest?</td>          <td class="paramname"><span class="paramname"><em>customManifest</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>manifestFilePattern</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;RuntimeDeps.y*ml&quot;</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>binariesSubfolder</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;ThirdParty&quot;</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AbsolutePath?</td>          <td class="paramname"><span class="paramname"><em>moduleRuleOutput</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>setFilterPlugin</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>pretend</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Prepare and transform a group of files for neatly be packaged as runtime dependencies in conventional locations. This aims to alleviate some chore regarding working with elaborate third-party/prebuilt libraries. Files are copied by <a class="el" href="../../d0/d55/namespaceNuke_1_1Unreal.html">Nuke.Unreal</a> but let UBT do it. </p>
<p>The result of this function is a partial module rule C# file which will list runtime dependencies in a partial method called <code>SetupRuntimeDependencies</code>. Please take care that the main module rules class for the target module is also partial. </p>
<p>Here's the overview of the usage of this function. </p>
<ol>
<li>
Provide a source folder for the runtime dependencies  </li>
<li>
Provide a set of locations in runtime, relative to the destination folder serving as runtime library paths (ideally one for each supported platforms). This may be used as base folders to load DLL's from.  </li>
<li>
If applicable provide pattern matching functions to determine the platform and configuration for individual files  </li>
<li>
To control the destination folder structure PrepareRuntimeDependencies may pick up a folder composition manifest file called "RuntimeDeps.yml" (by default this can be also overridden)  </li>
<li>
If no such manifest is available one can be passed directly in C#  </li>
</ol>
<p>The module rule will copy output files on building the project to <code>&amp;lt;plugin-directory&amp;gt;/Binaries/&amp;lt;binariesSubfolder&amp;gt;/&amp;lt;moduleName&amp;gt;</code>. Where <code>binariesSubfolder</code> is "ThirdParty" by default. </p>
<p>For example: </p>
<div class="fragment"><div class="line">[ImplicitBuildInterface]</div>
<div class="line"><span class="keyword">public</span> <span class="keyword">interface </span>IMyPluginTargets : INukeBuild</div>
<div class="line">{</div>
<div class="line">    Target PrepareMyPlugin =&amp;gt; _ =&amp;gt; _</div>
<div class="line">        .Executes(() =&amp;gt;</div>
<div class="line">        {</div>
<div class="line">            this.PrepareRuntimeDependencies(</div>
<div class="line">                this.ScriptFolder(),</div>
<div class="line">                [ <span class="keyword">new</span>() {Path = (RelativePath)&amp;quot;Win64&amp;quot; } ],</div>
<div class="line">                determinePlatform: f =&amp;gt; <a class="code hl_class" href="../../d5/dc0/classNuke_1_1Unreal_1_1UnrealPlatform.html">UnrealPlatform</a>.<a class="code hl_variable" href="../../d5/dc0/classNuke_1_1Unreal_1_1UnrealPlatform.html#a7efc8a5aa57793b93664a4cfd8ff7e23">Win64</a>,</div>
<div class="line">                customManifest: <span class="keyword">new</span>()</div>
<div class="line">                {</div>
<div class="line">                    Copy = [</div>
<div class="line">                        <span class="keyword">new</span>() {Directory = &amp;quot;tools&amp;quot;},</div>
<div class="line">                        <span class="keyword">new</span>() {</div>
<div class="line">                            Directory = &amp;quot;sdk/windows-desktop/amd64/release/bin&amp;quot;,</div>
<div class="line">                            As = &amp;quot;Win64&amp;quot;</div>
<div class="line">                        },</div>
<div class="line">                    ]</div>
<div class="line">                }</div>
<div class="line">            );</div>
<div class="line">        });</div>
<div class="line">}</div>
<div class="ttc" id="aclassNuke_1_1Unreal_1_1UnrealPlatform_html"><div class="ttname"><a href="../../d5/dc0/classNuke_1_1Unreal_1_1UnrealPlatform.html">Nuke.Unreal.UnrealPlatform</a></div><div class="ttdoc">High level representation of common platforms supported by Unreal Engine (NDA ones excluded) and extr...</div><div class="ttdef"><b>Definition</b> <a href="../../d8/df1/UnrealPlatform_8cs_source.html#l00076">UnrealPlatform.cs:77</a></div></div>
<div class="ttc" id="aclassNuke_1_1Unreal_1_1UnrealPlatform_html_a7efc8a5aa57793b93664a4cfd8ff7e23"><div class="ttname"><a href="../../d5/dc0/classNuke_1_1Unreal_1_1UnrealPlatform.html#a7efc8a5aa57793b93664a4cfd8ff7e23">Nuke.Unreal.UnrealPlatform.Win64</a></div><div class="ttdeci">static readonly UnrealPlatform Win64</div><div class="ttdoc">Any platform name containing 'Windows' is also mapped to this platform.</div><div class="ttdef"><b>Definition</b> <a href="../../d8/df1/UnrealPlatform_8cs_source.html#l00081">UnrealPlatform.cs:81</a></div></div>
</div><!-- fragment --><p>This will create a "copy" of the binaries subfolder in Plugin sources, so Fab compatibility can be ensured. This "copy" is just done with symlinks, not actual copies of binaries. This wisdom has been bestowed upon us by the author of CefView <a href="https://forums.unrealengine.com/t/copy-3rd-party-dlls-to-binaries-folder-does-not-work-for-engine-plugin-how-to-solve/738255/6">https://forums.unrealengine.com/t/copy-3rd-party-dlls-to-binaries-folder-does-not-work-for-engine-plugin-how-to-solve/738255/6</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td></td></tr>
    <tr><td class="paramname">sourceFolder</td><td>Required. The root folder of the third-party library. Ideally the same folder as the external module representing the library for <a class="el" href="../../d3/d98/classNuke_1_1Unreal_1_1Unreal.html" title="A collection of utilities around basic functions regarding the environment of the Engine we&#39;re workin...">Unreal</a>. </td></tr>
    <tr><td class="paramname">runtimeLibraryPaths</td><td>Required. A a set of locations in runtime, relative to the destination folder serving as runtime library paths (ideally one for each supported platforms). This may be used as base folders to load DLL's from. </td></tr>
    <tr><td class="paramname">determineConfig</td><td>Optional. Determin a configuration (either debug or release) from a given runtime dependency file. If the file is needed in all configurations return <code>RuntimeDependencyConfig.All</code>. This predicate is also applied to DLL's, there are no assumptions about them, solely based on their file paths. By default every file is assumed for all configurations. </td></tr>
    <tr><td class="paramname">determinePlatform</td><td>Optional. Determin a target platform from a given runtime dependency file. If the file is needed on all platforms return <code><a class="el" href="../../d5/dc0/classNuke_1_1Unreal_1_1UnrealPlatform.html#a92f1081bf965a1027af61db675e9e397" title="Meta-platform indicating that its context of operation is platform-independent or has (should have) t...">UnrealPlatform.Independent</a></code>. This predicate is also applied to DLL's, there are no assumptions about them, solely based on their file paths. By default every file is assumed for all platforms. </td></tr>
    <tr><td class="paramname">moduleName</td><td>Optional. By default derived from the folder name provided with <code>sourceFolder</code> </td></tr>
    <tr><td class="paramname">pluginFolder</td><td>Optional. By default it's the owning plugin of the <code>sourceFolder</code> </td></tr>
    <tr><td class="paramname">customManifest</td><td>Optional. Provide a folder composition manifest if the target file-folder structure is different than the input one. Default is empty (just copy folder structure as-is) </td></tr>
    <tr><td class="paramname">manifestFilePattern</td><td>Optional. The file name of an optional folder composition manifest which may reside in <code>sourceFolder</code>. Default is "RuntimeDeps.y*ml" </td></tr>
    <tr><td class="paramname">binariesSubfolder</td><td>Optional. The subfolder name in the plugin Binaries where everything else is copied into. Default is "ThirdParty". </td></tr>
    <tr><td class="paramname">moduleRuleOutput</td><td>Optional. A custom folder output for the generated module rule file. Default is <code>sourceFolder</code>. </td></tr>
    <tr><td class="paramname">setFilterPlugin</td><td>Enqueue referred files and their destination locations in the owning plugin instance. Default is true. </td></tr>
    <tr><td class="paramname">pretend</td><td>Optional. If true only list affected files, but do not modify files or generate a module rule. Default is false. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d9/db5/AutoRuntimeDependencies_8cs_source.html#l00193">193</a> of file <a class="el" href="../../d9/db5/AutoRuntimeDependencies_8cs_source.html">AutoRuntimeDependencies.cs</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/runner/work/Nuke.Unreal/Nuke.Unreal/src/Nuke.Unreal/Plugins/<a class="el" href="../../d9/db5/AutoRuntimeDependencies_8cs_source.html">AutoRuntimeDependencies.cs</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../df/da7/namespaceNuke.html">Nuke</a></li><li class="navelem"><a class="el" href="../../d0/d55/namespaceNuke_1_1Unreal.html">Unreal</a></li><li class="navelem"><a class="el" href="../../dd/d1b/namespaceNuke_1_1Unreal_1_1Plugins.html">Plugins</a></li><li class="navelem"><a class="el" href="../../d0/d8a/classNuke_1_1Unreal_1_1Plugins_1_1RuntimeDependenciesExtensions.html">RuntimeDependenciesExtensions</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
