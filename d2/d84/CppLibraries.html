<!-- HTML header for doxygen 1.13.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=11"/>
  <meta name="generator" content="Doxygen 1.12.0"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Nuke.Unreal: Using third-party C++ libraries</title>
  <link rel="icon" href="../../nu.icon.onDark.fill.svg" type="image/x-icon" />
  <link href="../../tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="../../jquery.js"></script>
  <script type="text/javascript" src="../../dynsections.js"></script>
  <link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
  <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
  <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
  <link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
  <script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
  <script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
  <script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
  <script type="text/javascript" src="../../doxygen-awesome-tabs.js"></script>
  <script type="text/javascript">
      DoxygenAwesomeDarkModeToggle.init()
      DoxygenAwesomeParagraphLink.init()
      DoxygenAwesomeInteractiveToc.init()
      DoxygenAwesomeTabs.init()
      DoxygenAwesomeFragmentCopyButton.init()
  </script>
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr id="projectrow">
              <td id="projectlogo"><img alt="Logo" src="../../nu.icon.onDark.fill.55h.png"/></td>
              <td id="projectalign">
                <div id="projectname">Nuke.Unreal
                </div>
                <div id="projectbrief">Build Unreal apps in Style.</div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d2/d84/CppLibraries.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Using third-party C++ libraries</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul>
  <li class="level1">
    <a href="#autotoc_md0">Use library from XRepo</a>
    <ul>
      <li class="level2">
        <a href="#autotoc_md1">Library specifications</a>
      </li>
    </ul>
  </li>
  <li class="level1">
    <a href="#autotoc_md2">Use library via CMake</a>
  </li>
  <li class="level1">
    <a href="#autotoc_md3">Use header only library</a>
  </li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_Manual_2CppLibraries"></a></p>
<p><a class="el" href="../../d0/d55/namespaceNuke_1_1Unreal.html">Nuke.Unreal</a> allows you to set up boilerplate for C++ libraries, or fetch them via a package manager. In all cases the artifacts it generates are placed in the working directory (the current location of your terminal). In all cases they're managed in their own preparation targets which are generated for you.</p>
<p>There are three methods available:</p>
<h1><a class="anchor" id="autotoc_md0"></a>
Use library from XRepo</h1>
<p><a href="https://xrepo.xmake.io">XRepo</a> is so far the most reliable C++ package manager I've encountered relying on the build tool by the same people XMake. <a class="el" href="../../d0/d55/namespaceNuke_1_1Unreal.html">Nuke.Unreal</a> taps into that ecosystem and has tools to convert their packages into Unreal modules. Tt can be as simply used as the following:</p>
<div class="fragment"><div class="line">&gt; nuke use-xrepo --spec &quot;zlib&quot;</div>
</div><!-- fragment --><p>or fully specified with version and library options:</p>
<div class="fragment"><div class="line">&gt; nuke use-xrepo --spec &quot;imgui 1.91.1 freetype=true,dx11=true,dx12=true,vulkan=true&quot;</div>
</div><!-- fragment --><p>and multiple libraries can be set up in one go</p>
<div class="fragment"><div class="line">nuke use-xrepo --spec &quot;imgui 1.91.1 freetype=true&quot; &quot;conan::zlib/1.2.11&quot; &quot;vcpkg::spdlog[wchar]&quot; &lt;etc...&gt;</div>
</div><!-- fragment --><p>As you can see xrepo also can act like a meta-package-manager for libraries which may not have been added to the xrepo repository. However their support is more limited than xrepo "native" packages.</p>
<p>Video demonstrating the installation of a C++ library.</p>
<p><a href="https://youtu.be/whSjicxWp8U" target="_blank"><div class="image">
<img src="../../CppLibInstallVideo.png" alt=""/>
</div>
     </a></p>
<p><code>use-xrepo</code> will not fetch the specified libraries immediately but rather generate build plugins for them, which define <code>Prepare-&lt;library&gt;</code> targets. These are all dependent for <code>Prepare</code> target of <code>UnrealBuild</code> which is then dependent for <code>Generate</code>. So after <code>nuke use-xrepo</code> running <code>nuke prepare</code> or <code>nuke generate</code> will fetch and install properly all libraries used in this way. Having an extra build plugin allows the developer to further customize how the library is used, or add extra necessary operations.</p>
<h2><a class="anchor" id="autotoc_md1"></a>
Library specifications</h2>
<p><code>--spec</code> follows this syntax:</p>
<div class="fragment"><div class="line">provider::name[comma,separated,features] 1.2.3 comma=&#39;separated&#39;,options=true</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Conan packages use <code>/</code> to delimit version (<code>conan::zlib/1.2.3</code>) instead of space. VCPKG through xrepo cannot set specific version so attempting to do <code>vcpkg::zlib 1.2.3</code> will result in failing installation, but <code>vcpkg::zlib</code> is fine.</dd>
<dd>
Since Unreal requires <code>MD</code> C runtime linkage &lsquo;runtimes='MD&rsquo;` is implicitly added by <a class="el" href="../../d0/d55/namespaceNuke_1_1Unreal.html">Nuke.Unreal</a>.</dd></dl>
<p>The <code>Prepare</code> and the individual <code>Prepare-&lt;library&gt;</code> targets will generate partial module rule classes for the platforms they were invoked for. This is done because libraries may have different requirements based on which platform they're used on / compiled on. The main <code>MyLibrary.Build.cs</code> module rule is the place for the developer to add custom logic if that's necessary for the library. Individual <code>MyLibrary.Platform.Build.cs</code> partial rules set up includes and libs.</p>
<dl class="section important"><dt>Important</dt><dd>During installation only one platform is considered, and only one platform worth of module rule class will be generated. This means the library should be prepared with all supported platforms or cross-compiled to be able to deploy in a truly cross-platform fashion.</dd></dl>
<p>The main benefit of this design is that libraries prepared this way can be further distributed with source but without the need for <a class="el" href="../../d0/d55/namespaceNuke_1_1Unreal.html">Nuke.Unreal</a>, or without the need to execute complex behavior from the module rule files. This ensures for example <strike>Marketplace</strike>/Fab compliance of plugins.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Use library via CMake</h1>
<div class="fragment"><div class="line">nuke use-cmake --spec MyLibrary</div>
</div><!-- fragment --><p>This generates build plugins allowing the developer to prepare libraries via CMake. Fetching and storing the library is the responsibility of the developer. The build plugin is prepared for the most trivial use case when compiling a library via CMake but one may need to modify that depending on the design decisions of the library being used.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Use header only library</h1>
<div class="fragment"><div class="line">nuke use-header-only --spec MyLibrary</div>
</div><!-- fragment --><p>This will directly generate only the module rule file without the need for extra preparations like with the xrepo or the CMake methods. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
