<!-- HTML header for doxygen 1.13.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=11"/>
  <meta name="generator" content="Doxygen 1.12.0"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Nuke.Unreal: Unreal tools bindings</title>
  <link rel="icon" href="../../nu.icon.onDark.fill.svg" type="image/x-icon" />
  <link href="../../tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="../../jquery.js"></script>
  <script type="text/javascript" src="../../dynsections.js"></script>
  <link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
  <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
  <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
  <link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
  <script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
  <script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
  <script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
  <script type="text/javascript" src="../../doxygen-awesome-tabs.js"></script>
  <script type="text/javascript">
      DoxygenAwesomeDarkModeToggle.init()
      DoxygenAwesomeParagraphLink.init()
      DoxygenAwesomeInteractiveToc.init()
      DoxygenAwesomeTabs.init()
      DoxygenAwesomeFragmentCopyButton.init()
  </script>
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr id="projectrow">
              <td id="projectlogo"><img alt="Logo" src="../../nu.icon.onDark.fill.55h.png"/></td>
              <td id="projectalign">
                <div id="projectname">Nuke.Unreal
                </div>
                <div id="projectbrief">Build Unreal apps in Style.</div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d2/d94/UnrealTools.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Unreal tools bindings</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul>
  <li class="level1">
    <a href="#autotoc_md15">Passing command line arguments to Unreal tools</a>
    <ul>
      <li class="level2">
        <a href="#autotoc_md16">Custom UBT or UAT arguments</a>
      </li>
    </ul>
  </li>
  <li class="level1">
    <a href="#autotoc_md17">C# Tool API</a>
    <ul>
      <li class="level2">
        <a href="#autotoc_md18">Handling multiple egnine versions</a>
      </li>
    </ul>
  </li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_Manual_2UnrealTools"></a></p>
<h1><a class="anchor" id="autotoc_md15"></a>
Passing command line arguments to Unreal tools</h1>
<p>In some targets <a class="el" href="../../d0/d55/namespaceNuke_1_1Unreal.html">Nuke.Unreal</a> allows to pass custom command line arguments for Unreal tools. This is only necessary for advanced use cases, and for prototyping. In almost all cases once a workflow is developed with these custom arguments it is recommended to solidify them into a custom target, or use the plathera of customization and modularization points <a class="el" href="../../d0/d55/namespaceNuke_1_1Unreal.html">Nuke.Unreal</a> offers.</p>
<p>Command line arguments are passed with the <code>--&gt;</code> sequence, anything after such sequence will be passed directly to tools. This is dubbed as "argument blocks". The precise usage of them depends on the specific target being used. Multiple argument blocks can be named and used by targets. A block ends when another one starts or when it's the end of the command line input.</p>
<p>In all cases <a class="el" href="../../d0/d55/namespaceNuke_1_1Unreal.html">Nuke.Unreal</a> provides some variables so the user don't need to repeat long paths. These variables are replaced at any position of the text of any argument. These variables are:</p>
<div class="fragment"><div class="line">   ~p - Absolute path of the .uproject file</div>
<div class="line">~pdir - Absolute folder containing the .uproject file</div>
<div class="line">  ~ue - Absolute path to the engine root</div>
</div><!-- fragment --><p>For example</p>
<div class="fragment"><div class="line">&gt; nuke run --tool editor-cmd --&gt; ~p -run=MyCommandlet</div>
<div class="line">UnrealEditor-Cmd.exe C:\Projects\Personal\MyProject\MyProject.uproject -run=MyCommandlet</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md16"></a>
Custom UBT or UAT arguments</h2>
<p>When invoking common tasks <a class="el" href="../../d0/d55/namespaceNuke_1_1Unreal.html">Nuke.Unreal</a> supports passing extra custom arguments to UBT or UAT via <code>--&gt;ubt</code> or <code>--&gt;uat</code>. Anything passed behind these or in-between these will be passed to their respective tool.</p>
<p>This is especially useful for doing temporary debugging with UBT and the compiler: (not an actual usecase) </p><div class="fragment"><div class="line">&gt; nuke build ... --&gt;ubt -CompilerArguments=&quot;/diagnostics:caret /P /C&quot; -DisableUnity</div>
<div class="line">&gt; nuke build ... --&gt;ubt -LinkerArguments=/VERBOSE</div>
<div class="line">&gt; nuke build ... --&gt;ubt -Preprocess</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md17"></a>
C# Tool API</h1>
<p><a class="el" href="../../d0/d55/namespaceNuke_1_1Unreal.html">Nuke.Unreal</a> provides builder/fluent pattern Unreal tool configurators in C# which yield command line arguments for the specified tool. TLDR: the syntax looks like this:</p>
<div class="fragment"><div class="line"><span class="comment">// For UBT:</span></div>
<div class="line">Unreal.BuildTool(<span class="keyword">this</span>, _ =&gt; _</div>
<div class="line">    .Target(UnrealTargetType.Server)</div>
<div class="line">    .Platform(UnrealPlatform.LinuxArm64)</div>
<div class="line">    .Configuration(UnrealConfig.Development)</div>
<div class="line">    .Project(ProjectPath)</div>
<div class="line">    .Append(MyExplicitArguments)</div>
<div class="line">)(workingDirectory: MyEnginePath);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// For UAT:</span></div>
<div class="line">Unreal.AutomationTool(<span class="keyword">this</span>, _ =&gt; _</div>
<div class="line">    .BuildPlugin(_ =&gt; _</div>
<div class="line">        .Plugin(PluginPath)</div>
<div class="line">        .Package(targetDir)</div>
<div class="line">        .StrictIncludes()</div>
<div class="line">        .Unversioned()</div>
<div class="line">    )</div>
<div class="line">    .Append(<span class="keyword">self</span>.UatArgs.AsArguments())</div>
<div class="line">)(workingDirectory: MyEnginePath);</div>
</div><!-- fragment --><p>And since this is C# it comes with all the developer experience benefits:</p>
<div class="image">
<img src="../../nuke-unreal-uat-bindings-docs.png" alt=""/>
</div>
    <p>This introduces a greater discoverability to the vast functionality of both UAT and UBT which simply was not there before unless the developer followed some trails inside the source code of these tools. Both configurators are generated from the actual source code using static code analysis and relying on semantical heuristics as the command line interpretation of UAT is very procedural.</p>
<p>UBT on the other hand had a more disciplined and consistent approach for interpreting the command line, that allowed to rely on purely reflection while gathering arguments with the added feature of typed parameter value input (like numbers, strings and enums). As of time of writing detecting parameter types in a reliable and meaningful way is not possible for UAT.</p>
<h2><a class="anchor" id="autotoc_md18"></a>
Handling multiple egnine versions</h2>
<p>You might notice that the documentation for auto-generated bindings above strangely repeats itself. This happens because <a class="el" href="../../d0/d55/namespaceNuke_1_1Unreal.html">Nuke.Unreal</a> scapes the source of Unreal tools for multiple engine versions, and in this particular case it joins together documentation if that's different between engine versions. This is also a perfect segue to how this syntax deals with differences of the command line interface of different engine versions.</p>
<p>Unfortunately if one parameter or one sub-tool is renamed from one version to the next one, there's no algorithmically sound, 100% accurate way to map these renames automatically. With one exception of course when Unreal Engine 5 came out all mentions of <code>UE4</code> in the codebase has been renamed to <code>Unreal</code>. <a class="el" href="../../d0/d55/namespaceNuke_1_1Unreal.html">Nuke.Unreal</a> can deal with that particular case, so all <code>Unreal*</code> parameters are renamed to <code>UE4</code> at invocation for Unreal Engine 4 (and where <code>UE4</code> was actually used in Unreal Engine 4).</p>
<p>With each parameter or subtool an extra metadata is kept denoting which engine versions they're compatible with. If the developer would invoke a parameter which is not present in their target engine version, that will be ignored from the resulting command line arguments string and a warning will be logged. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
